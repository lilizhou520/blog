<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
    <meta name="keywords" content="lilizhou, github" />
    <title>
        Meet.lilizhou
    </title>
    <!-- favicon -->
    
    <link rel="icon" href="/img/favico.ico" />
     <link rel="stylesheet" href="/css/style.css">

    <!-- highlight -->
    <link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/9.12.0/styles/github-gist.min.css" />
    <script src="//cdn.bootcss.com/highlight.js/9.2.0/highlight.min.js"></script>
    <script>
        hljs.initHighlightingOnLoad()
    </script>
    <script src="https://cdn.jsdelivr.net/gh/frontendsophie/hexo-infinite-scroll@2.0.0/dist/main.js"></script>

    <script>
        infiniteScroll()

        window.addEventListener('DOMContentLoaded', function () {
            const [
                mainTitle,
                mobileMenu,
                mobileMainTitle,
                mobileMenuBtn,
                ipadMenuBtn,
                aside,
                closeBtn,
            ] = getEle(
                '#main-title',
                '.mobile-menu',
                '.mobile-menu h3',
                '.mobile-menu button',
                '.ipad-menu',
                'aside',
                'aside .close',
            )
            const io = new IntersectionObserver(entries => {
                if (entries[0].intersectionRatio <= 0) {
                    mobileMainTitle.classList.remove('invisibile')
                } else {
                    mobileMainTitle.classList.add('invisibile')
                }
            })
            io.observe(mainTitle)

            clickToggleAside(mobileMenuBtn)
            clickToggleAside(ipadMenuBtn)
            clickToggleAside(closeBtn, false)

            const isMenuVisible = window.getComputedStyle(mobileMenu).display !== 'none'
            if (isMenuVisible) document.body.style.background = 'none'

            function getEle(...args) {
                return args.map(arg => document.querySelector(arg))
            }

            function clickToggleAside(btn, show = true) {
                btn.addEventListener('click', function () {
                    if (show) {
                        aside.style.display = 'block'
                    } else {
                        aside.style.display = 'none'
                    }
                })
            }
        })
    </script>
</head>

<body style="background: url(/img/daisy.jpg) #f3f3f3">
    <div class="container">
        <header class="header">
    <nav class="mobile-menu" style="background: url(/img/daisy.jpg) #f3f3f3">
        <h3 class="invisibile">
            <a href="/" class="logo">
                Meet.lilizhou
            </a>
        </h3>
        <button class="menu">menu</button>
    </nav>

    <button class="ipad-menu menu">menu</button>

    <h1 class="title" id="main-title">
        <a href="/" class="logo">
            Meet.lilizhou
        </a>
    </h1>
    <h2 class="desc">
        Fake it till you make it.
    </h2>

	<div class="divider"></div>
	
	
</header>
        <main class="main">
            <article class="post">
	
	
    <h2 class="post-title">
        superset安装
    </h2>
    <ul class="post-date">
        <li>
            2019-11-05
        </li>
        <li>
            Lemon
        </li>
    </ul>
    <div class="post-content">
        <h2 id="win10本地安装"><a href="#win10本地安装" class="headerlink" title="win10本地安装"></a>win10本地安装</h2><ul>
<li><p>python安装</p>
<a id="more"></a>   </li>
<li><p>pip升级</p>
  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m pip install --upgrade pip</span><br></pre></td></tr></table></figure>

<p>  报错：</p>
<p>  <img src="/img/posts/supertset_pip.png" alt="报错"></p>
<p> 解决方案：</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">easy_install -U pip </span><br><span class="line">或 </span><br><span class="line">python -m pip install -U --force-reinstall pip</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>superset安装</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install superset</span><br></pre></td></tr></table></figure>
<ol>
<li>flask报错<br><img src="/img/posts/superset_flask.png" alt="报错"><br>解决方案：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#指定版本安装</span><br><span class="line">pip install flask-jwt-extended==3.20.0</span><br><span class="line">pip install pandas==0.23.1</span><br><span class="line">pip install  flask==0.12.2</span><br></pre></td></tr></table></figure></li>
<li>_geohash报错<br><img src="/img/posts/superset_geohash.png" alt="报错"><br>解决方案：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://www.lfd.uci.edu/~gohlke/pythonlibs/ 下载包，手动安装</span><br><span class="line">pip install python_geohash-0.8.5-cp36-cp36m-win_amd64.whl</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>superset db 升级: superset db upgrade</p>
<p>  <img src="/img/posts/superset_db.png" alt="报错"></p>
<p>  解决：</p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python venv\Scripts\superset db upgrade</span><br></pre></td></tr></table></figure></code></pre><blockquote>
<h3 id="后面的superset命令-都需要-python-venv-Scripts-superset-替代！！！"><a href="#后面的superset命令-都需要-python-venv-Scripts-superset-替代！！！" class="headerlink" title="后面的superset命令 都需要 python venv\Scripts\superset 替代！！！"></a>后面的superset命令 都需要 python venv\Scripts\superset 替代！！！</h3></blockquote>
</li>
<li><p>安装mysql时: pip install mysqlclient   </p>
<p>  <img src="/img/posts/superset_mysql.png" alt="报错"></p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#手动下载安装</span><br><span class="line">mysqlclient‑1.4.4‑cp36‑cp36m‑win_amd64.whl</span><br></pre></td></tr></table></figure>


</li>
</ul>
<h2 id="linux本地安装"><a href="#linux本地安装" class="headerlink" title="linux本地安装"></a>linux本地安装</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br></pre></td><td class="code"><pre><span class="line">###参考：https://superset.incubator.apache.org/installation.html#superset-installation-and-initialization</span><br><span class="line">1.基本依赖</span><br><span class="line">sudo yum upgrade python-setuptools</span><br><span class="line">sudo yum install gcc gcc-c++ libffi-devel python-devel python-pip python-wheel openssl-devel libsasl2-devel openldap-devel</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2.安装python3.6.8</span><br><span class="line">cd /home/roy/src/</span><br><span class="line">wget https://www.python.org/ftp/python/3.6.8/Python-3.6.8.tgz</span><br><span class="line">tar -xzf Python-3.6.8.tgz</span><br><span class="line">cd Python-3.6.8.tgz</span><br><span class="line">mkdir -p /home/roy/software/python3</span><br><span class="line"># 编译安装</span><br><span class="line">./configure --prefix=&quot;/home/roy/software/python3&quot;</span><br><span class="line">make</span><br><span class="line">make install        </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">##添加环境变量：注意python3和 pip3都在bin目录下</span><br><span class="line">vim ~/.bash_profile</span><br><span class="line">PATH=$PATH:$HOME/bin:/home/roy/software/python3/bin;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2.官方推荐使用 Python virtualenv,执行安装：</span><br><span class="line">cd /home/roy/software</span><br><span class="line">pip3 install virtualenv</span><br><span class="line">python3 -m venv venv</span><br><span class="line">. venv/bin/activate</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pip3 install --upgrade setuptools pip</span><br><span class="line">##以下2步问题会比较多，请先跳过看  第3点</span><br><span class="line">pip3 install superset</span><br><span class="line">pip3 install mysqlclient</span><br><span class="line">superset db upgrade</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export FLASK_APP=superset</span><br><span class="line">flask fab create-admin</span><br><span class="line">superset load_examples</span><br><span class="line">superset init</span><br><span class="line">superset run -p 8080 --with-threads --reload --debugger &amp;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">3.重点说明：</span><br><span class="line">安装superset版本为 v0.28.1，默认安装过程出现最多的问题就是各种依赖库版本不对。请具体查看错误信息</span><br><span class="line">主要会出现几个版本问题请核对：</span><br><span class="line">flask=0.12.2</span><br><span class="line">pandas=0.23.1</span><br><span class="line">sqlalchemy=1.2.2</span><br><span class="line">3.1.版本问题，可pip3 install  pandas==0.23.1 指定版本安装</span><br><span class="line">3.2.还有些基础python的依赖，可能需要使用yum装好后，重新编译安装一次python了</span><br><span class="line">3.3.其他问题 请自行google，目前碰到的少</span><br><span class="line">############superset v0.28.1 requires #####################</span><br><span class="line">alembic==1.0.0            # via flask-migrate</span><br><span class="line">amqp==2.3.2               # via kombu</span><br><span class="line">asn1crypto==0.24.0        # via cryptography</span><br><span class="line">babel==2.6.0              # via flask-babel, flower</span><br><span class="line">billiard==3.5.0.4         # via celery</span><br><span class="line">bleach==2.1.2</span><br><span class="line">boto3==1.4.7</span><br><span class="line">botocore==1.7.48</span><br><span class="line">cchardet==1.1.3           # via tabulator</span><br><span class="line">celery==4.2.0</span><br><span class="line">certifi==2018.8.24        # via requests</span><br><span class="line">cffi==1.11.5              # via cryptography</span><br><span class="line">chardet==3.0.4            # via requests</span><br><span class="line">click==6.7                # via flask, flask-appbuilder, tableschema, tabulator</span><br><span class="line">colorama==0.3.9</span><br><span class="line">contextlib2==0.5.5</span><br><span class="line">cryptography==1.9</span><br><span class="line">defusedxml==0.5.0         # via python3-openid</span><br><span class="line">docutils==0.14            # via botocore</span><br><span class="line">et-xmlfile==1.0.1         # via openpyxl</span><br><span class="line">flask-appbuilder==1.12.0</span><br><span class="line">flask-babel==0.11.1       # via flask-appbuilder</span><br><span class="line">flask-caching==1.4.0</span><br><span class="line">flask-compress==1.4.0</span><br><span class="line">flask-login==0.4.1        # via flask-appbuilder</span><br><span class="line">flask-migrate==2.1.1</span><br><span class="line">flask-openid==1.2.5       # via flask-appbuilder</span><br><span class="line">flask-sqlalchemy==2.1     # via flask-appbuilder, flask-migrate</span><br><span class="line">flask-wtf==0.14.2</span><br><span class="line">flask==0.12.2</span><br><span class="line">flower==0.9.2</span><br><span class="line">future==0.16.0</span><br><span class="line">futures==3.1.1            # via flower</span><br><span class="line">geopy==1.11.0</span><br><span class="line">gunicorn==19.8.0</span><br><span class="line">html5lib==1.0.1           # via bleach</span><br><span class="line">humanize==0.5.1</span><br><span class="line">idna==2.6</span><br><span class="line">ijson==2.3                # via tabulator</span><br><span class="line">isodate==0.6.0</span><br><span class="line">itsdangerous==0.24        # via flask</span><br><span class="line">jdcal==1.4                # via openpyxl</span><br><span class="line">jinja2==2.10              # via flask, flask-babel</span><br><span class="line">jmespath==0.9.3           # via boto3, botocore</span><br><span class="line">jsonlines==1.2.0          # via tabulator</span><br><span class="line">jsonschema==2.6.0         # via tableschema</span><br><span class="line">kombu==4.2.1              # via celery</span><br><span class="line">linear-tsv==1.1.0         # via tabulator</span><br><span class="line">mako==1.0.7               # via alembic</span><br><span class="line">markdown==3.0</span><br><span class="line">markupsafe==1.0           # via jinja2, mako</span><br><span class="line">numpy==1.15.2             # via pandas</span><br><span class="line">openpyxl==2.4.11          # via tabulator</span><br><span class="line">pandas==0.23.1</span><br><span class="line">parsedatetime==2.0.0</span><br><span class="line">pathlib2==2.3.0</span><br><span class="line">polyline==1.3.2</span><br><span class="line">pycparser==2.19           # via cffi</span><br><span class="line">pydruid==0.4.4</span><br><span class="line">pyhive==0.5.1</span><br><span class="line">python-dateutil==2.6.1</span><br><span class="line">python-editor==1.0.3      # via alembic</span><br><span class="line">python-geohash==0.8.5</span><br><span class="line">python3-openid==3.1.0     # via flask-openid</span><br><span class="line">pytz==2018.5              # via babel, celery, flower, pandas</span><br><span class="line">pyyaml==3.12</span><br><span class="line">requests==2.18.4</span><br><span class="line">rfc3986==1.1.0            # via tableschema</span><br><span class="line">s3transfer==0.1.13        # via boto3</span><br><span class="line">sasl==0.2.1               # via thrift-sasl</span><br><span class="line">simplejson==3.15.0</span><br><span class="line">sqlalchemy-utils==0.32.21</span><br><span class="line">sqlalchemy==1.2.2</span><br><span class="line">sqlparse==0.2.4</span><br><span class="line">tableschema==1.1.0</span><br><span class="line">tabulator==1.15.0         # via tableschema</span><br><span class="line">thrift-sasl==0.3.0</span><br><span class="line">thrift==0.11.0</span><br><span class="line">tornado==5.1.1            # via flower</span><br><span class="line">unicodecsv==0.14.1</span><br><span class="line">unidecode==1.0.22</span><br><span class="line">urllib3==1.22             # via requests</span><br><span class="line">vine==1.1.4               # via amqp</span><br><span class="line">webencodings==0.5.1       # via html5lib</span><br><span class="line">werkzeug==0.14.1          # via flask</span><br><span class="line">wtforms==2.2.1            # via flask-wtf</span><br><span class="line">xlrd==1.1.0</span><br></pre></td></tr></table></figure>







    </div>
</article>
        </main>
        <aside class="aside">
            <div class="close"></div>
            <section class="aside-section">
                
    <h1>Categories</h1>

    <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a></li></ul>

            </section>
            <section class="aside-section">
                
    <h1>Archives</h1>

    <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/">2019</a></li></ul>


            </section>
            <section class="aside-section tag">
                
            </section>
        </aside>
		  <footer class="footer">
    <div class="links">
				<ul>
					
					<li>
						<a href="https://github.com/lilizhou520" target="_blank" rel="noopener">
							Github
						</a>
					</li>
					
				</ul>
			
    </div>	
</footer>
    </div>
</body>

</html>